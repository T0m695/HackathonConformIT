{
  "tables": {
    "corrective_measure": {
      "columns": [
        {
          "name": "measure_id",
          "type": "INTEGER",
          "synonyms": [
            "id_mesure",
            "numéro_mesure",
            "référence_mesure",
            "code_mesure"
          ],
          "description": "Identifiant unique d'une mesure corrective dans la table \"corrective_measure\"."
        },
        {
          "name": "name",
          "type": "VARCHAR",
          "synonyms": [
            "mesure",
            "action",
            "solution",
            "intervention"
          ],
          "description": "Nom de la mesure corrective mise en place pour résoudre un problème."
        },
        {
          "name": "description",
          "type": "TEXT",
          "synonyms": [
            "mesure",
            "action",
            "solution",
            "intervention"
          ],
          "description": "Décrit les mesures correctives à mettre en place pour résoudre un problème."
        },
        {
          "name": "owner_id",
          "type": "INTEGER",
          "synonyms": [
            "id_propriétaire",
            "id_responsable",
            "id_personne",
            "id_employé"
          ],
          "description": "Identifiant unique de la personne responsable de la mesure corrective."
        },
        {
          "name": "implementation_date",
          "type": "DATE",
          "synonyms": [
            "date_mise_en_place",
            "date_application",
            "date_réalisation",
            "date_exécution"
          ],
          "description": "Enregistre la date à laquelle une mesure corrective a été mise en place."
        },
        {
          "name": "cost",
          "type": "NUMERIC",
          "synonyms": [
            "coût",
            "montant",
            "dépense",
            "frais"
          ],
          "description": "Représente le coût associé à une mesure corrective dans la base de données."
        },
        {
          "name": "organizational_unit_id",
          "type": "INTEGER",
          "synonyms": [
            "id_unité",
            "code_unité",
            "référence_unité",
            "numéro_unité"
          ],
          "description": "Identifiant unique de l'unité organisationnelle associée à la mesure corrective."
        }
      ],
      "description": "La table \"corrective_measure\" contient des informations sur les mesures correctives mises en place, notamment leur identifiant, leur nom, leur description, leur propriétaire, leur date de mise en œ..."
    },
    "event": {
      "columns": [
        {
          "name": "event_id",
          "type": "INTEGER",
          "synonyms": [
            "id_événement",
            "numéro_événement",
            "référence",
            "code"
          ],
          "description": "Identifiant unique et numérique permettant d'identifier de manière exclusive chaque événement dans la table \"event\"."
        },
        {
          "name": "declared_by_id",
          "type": "INTEGER",
          "synonyms": [
            "id_déclarant",
            "référence_déclarant",
            "code_déclarant",
            "identifiant_déclarant"
          ],
          "description": "Identifiant unique de la personne ayant déclaré l'événement."
        },
        {
          "name": "description",
          "type": "TEXT",
          "synonyms": [
            "détails_événement",
            "information_événement",
            "résumé_événement",
            "contexte_événement"
          ],
          "description": "Champ textuel décrivant les détails d'un événement, comme la date, l'heure et le contexte."
        },
        {
          "name": "start_datetime",
          "type": "TIMESTAMP",
          "synonyms": [
            "date_début",
            "heure_début",
            "timestamp_début",
            "date_heure_début"
          ],
          "description": "Enregistre la date et l'heure de début d'un événement dans la table des événements."
        },
        {
          "name": "end_datetime",
          "type": "TIMESTAMP",
          "synonyms": [
            "date_fin",
            "heure_fin",
            "timestamp_fin",
            "fin_événement"
          ],
          "description": "Enregistre la date et l'heure de fin d'un événement dans la table \"event\"."
        },
        {
          "name": "organizational_unit_id",
          "type": "INTEGER",
          "synonyms": [
            "id_unité",
            "code_unité",
            "référence_unité",
            "numéro_unité"
          ],
          "description": "Identifiant unique de l'unité organisationnelle associée à l'événement."
        },
        {
          "name": "type",
          "type": "VARCHAR",
          "synonyms": [
            "catégorie",
            "classification",
            "genre",
            "nature"
          ],
          "description": "Identifie le type d'événement enregistré dans la table event."
        },
        {
          "name": "classification",
          "type": "VARCHAR",
          "synonyms": [
            "type_événement",
            "catégorie_événement",
            "nature_événement",
            "classe_événement"
          ],
          "description": "Colonne contenant la classification de l'événement, comme un déversement chimique, une blessure ou un incident environnemental."
        }
      ],
      "description": "La table \"event\" contient des informations sur les événements survenus dans l'entreprise, tels que des déversements chimiques, des blessures et des incidents environnementaux. Chaque entrée compren..."
    },
    "event_corrective_measure": {
      "columns": [
        {
          "name": "event_id",
          "type": "INTEGER",
          "synonyms": [
            "id",
            "numéro",
            "référence",
            "code"
          ],
          "description": "Identifiant unique permettant d'identifier de manière univoque chaque événement dans la table event_corrective_measure."
        },
        {
          "name": "measure_id",
          "type": "INTEGER",
          "synonyms": [
            "id_mesure",
            "numéro_mesure",
            "référence_mesure",
            "code_mesure"
          ],
          "description": "Identifiant unique d'une mesure corrective associée à un événement dans la table event_corrective_measure."
        }
      ],
      "description": "La table \"event_corrective_measure\" contient des informations sur les mesures correctives associées à des événements spécifiques. Chaque entrée de la table est composée d'un \"event_id\" (identifiant..."
    },
    "event_employee": {
      "columns": [
        {
          "name": "event_id",
          "type": "INTEGER",
          "synonyms": [
            "id_événement",
            "numéro_événement",
            "référence",
            "code"
          ],
          "description": "Identifiant unique permettant d'identifier de manière univoque chaque événement dans la table event_employee."
        },
        {
          "name": "person_id",
          "type": "INTEGER",
          "synonyms": [
            "id_employé",
            "numéro_employé",
            "référence_employé",
            "code_employé"
          ],
          "description": "Identifiant unique de l'employé associé à un événement dans la table event_employee."
        },
        {
          "name": "involvement_type",
          "type": "VARCHAR",
          "synonyms": [
            "rôle",
            "fonction",
            "implication",
            "participation"
          ],
          "description": "Indique le rôle de l'employé dans un événement, comme victime, intervenant ou témoin."
        }
      ],
      "description": "La table \"event_employee\" contient des informations sur l'implication des personnes dans des événements. Chaque entrée indique l'ID de l'événement, l'ID de la personne impliquée et le type d'implic..."
    },
    "event_risk": {
      "columns": [
        {
          "name": "event_id",
          "type": "INTEGER",
          "synonyms": [
            "id",
            "numéro",
            "référence",
            "code"
          ],
          "description": "Identifiant unique permettant d'identifier de manière exclusive chaque événement dans la table event_risk."
        },
        {
          "name": "risk_id",
          "type": "INTEGER",
          "synonyms": [
            "id_risque",
            "numéro_risque",
            "référence_risque",
            "code_risque"
          ],
          "description": "Identifiant unique pour identifier chaque événement de risque dans la table event_risk."
        }
      ],
      "description": "La table `event_risk` établit une relation entre les événements (`event_id`) et les risques (`risk_id`) associés à ces événements. Chaque entrée de la table représente un lien entre un événement sp..."
    },
    "organizational_unit": {
      "columns": [
        {
          "name": "unit_id",
          "type": "INTEGER",
          "synonyms": [
            "id_unité",
            "numéro_unité",
            "référence_unité",
            "code_unité"
          ],
          "description": "Identifiant unique de l'unité organisationnelle dans la table organizational_unit."
        },
        {
          "name": "identifier",
          "type": "VARCHAR",
          "synonyms": [
            "code_unité",
            "numéro_unité",
            "référence_unité",
            "identifiant_unité"
          ],
          "description": "Identifiant unique de l'unité organisationnelle au sein de l'entreprise."
        },
        {
          "name": "name",
          "type": "VARCHAR",
          "synonyms": [
            "département",
            "division",
            "service",
            "section"
          ],
          "description": "Nom de l'unité organisationnelle au sein de l'entreprise, telle que des lignes de production ou des départements."
        },
        {
          "name": "location",
          "type": "VARCHAR",
          "synonyms": [
            "site",
            "zone",
            "bâtiment",
            "aile"
          ],
          "description": "Identifiant unique de l'unité organisationnelle au sein de l'entreprise."
        }
      ],
      "description": "La table \"organizational_unit\" contient des informations sur les différentes unités organisationnelles de l'entreprise. Chaque entrée est identifiée par un \"unit_id\" unique, un \"identifier\" court, ..."
    },
    "person": {
      "columns": [
        {
          "name": "person_id",
          "type": "INTEGER",
          "synonyms": [
            "id_personne",
            "numéro_personne",
            "référence_personne",
            "code_personne"
          ],
          "description": "Identifiant unique et numérique pour identifier chaque personne dans la table person."
        },
        {
          "name": "matricule",
          "type": "VARCHAR",
          "synonyms": [
            "id_employé",
            "numéro_employé",
            "code_employé",
            "référence_employé"
          ],
          "description": "Identifiant unique et alphanumérique attribué à chaque employé dans la table \"person\"."
        },
        {
          "name": "name",
          "type": "VARCHAR",
          "synonyms": [
            "prénom",
            "nom",
            "identité",
            "appellation"
          ],
          "description": "Stocke le nom complet des personnes dans la table person."
        },
        {
          "name": "family_name",
          "type": "VARCHAR",
          "synonyms": [
            "nom",
            "patronyme",
            "appellation",
            "cognomen"
          ],
          "description": "Stocke le nom de famille d'une personne dans la table des personnes."
        },
        {
          "name": "role",
          "type": "VARCHAR",
          "synonyms": [
            "fonction",
            "poste",
            "emploi",
            "position"
          ],
          "description": "Champ contenant le titre du rôle ou de la fonction occupée par une personne au sein de l'entreprise."
        }
      ],
      "description": "La table \"person\" contient des informations sur les employés de l'entreprise, notamment leur identifiant unique (person_id), leur numéro d'employé (matricule), leur nom (name), leur nom de famille ..."
    },
    "risk": {
      "columns": [
        {
          "name": "risk_id",
          "type": "INTEGER",
          "synonyms": [
            "id_risque",
            "numéro_risque",
            "référence_risque",
            "code_risque"
          ],
          "description": "Identifiant unique et numérique pour identifier de manière exclusive chaque événement de risque dans la table \"risk\"."
        },
        {
          "name": "name",
          "type": "VARCHAR",
          "synonyms": [
            "risque",
            "danger",
            "incident",
            "accident"
          ],
          "description": "Nom descriptif de l'événement de risque dans l'industrie de l'injection plastique."
        },
        {
          "name": "gravity",
          "type": "VARCHAR",
          "synonyms": [
            "niveau_gravité",
            "importance",
            "criticité",
            "sévérité"
          ],
          "description": "Indique le niveau de gravité d'un risque dans la table \"risk\"."
        },
        {
          "name": "probability",
          "type": "VARCHAR",
          "synonyms": [
            "probabilité_risque",
            "niveau_risque",
            "risque_éventuel",
            "risque_potentiel"
          ],
          "description": "Colonne stockant le niveau de probabilité d'un risque, avec des valeurs prédéfinies telles que LOW, MEDIUM et HIGH."
        }
      ],
      "description": "La table \"risk\" contient des informations sur les risques potentiels, avec des colonnes pour l'identifiant du risque, le nom, la gravité et la probabilité. Les exemples montrent des risques tels qu..."
    }
  },
  "relationships": [
    {
      "from": "risk",
      "to": "risk",
      "on": "risk_id",
      "type": "foreign_key",
      "description": "La table \"risk\" est liée à elle-même via la colonne \"risk_id\", permettant de représenter des relations hiérarchiques ou de dépendance entre différe..."
    },
    {
      "from": "corrective_measure",
      "to": "organizational_unit",
      "on": "organizational_unit_id",
      "type": "foreign_key",
      "description": "La table \"corrective_measure\" est liée à la table \"organizational_unit\" via la colonne \"organizational_unit_id\"."
    },
    {
      "from": "corrective_measure",
      "to": "person",
      "on": "owner_id",
      "type": "foreign_key",
      "description": "La table \"corrective_measure\" est liée à la table \"person\" via la colonne \"owner_id\", établissant une relation où chaque mesure corrective est asso..."
    },
    {
      "from": "event_corrective_measure",
      "to": "event",
      "on": "event_id",
      "type": "foreign_key",
      "description": "La table \"event_corrective_measure\" est liée à la table \"event\" par la colonne \"event_id\", établissant une relation où chaque événement peut avoir ..."
    },
    {
      "from": "event_corrective_measure",
      "to": "corrective_measure",
      "on": "measure_id",
      "type": "foreign_key",
      "description": "La table \"event_corrective_measure\" est liée à la table \"corrective_measure\" par la colonne \"measure_id\", établissant une relation entre les événem..."
    },
    {
      "from": "event",
      "to": "person",
      "on": "declared_by_id",
      "type": "foreign_key",
      "description": "La table \"event\" est liée à la table \"person\" via la colonne \"declared_by_id\", établissant une relation où chaque événement est déclaré par une per..."
    },
    {
      "from": "event_employee",
      "to": "event",
      "on": "event_id",
      "type": "foreign_key",
      "description": "La table \"event_employee\" est liée à la table \"event\" par la colonne \"event_id\", établissant une relation entre les événements et les employés qui ..."
    },
    {
      "from": "event_employee",
      "to": "person",
      "on": "person_id",
      "type": "foreign_key",
      "description": "La table \"event_employee\" est liée à la table \"person\" via la colonne \"person_id\", établissant une relation entre les événements et les personnes q..."
    },
    {
      "from": "event",
      "to": "organizational_unit",
      "on": "organizational_unit_id",
      "type": "foreign_key",
      "description": "La table \"event\" est liée à la table \"organizational_unit\" via la colonne \"organizational_unit_id\"."
    },
    {
      "from": "event_risk",
      "to": "event",
      "on": "event_id",
      "type": "foreign_key",
      "description": "La table \"event_risk\" contient des informations sur les risques liés à des événements, qui sont liés aux événements correspondants dans la table \"e..."
    },
    {
      "from": "event_risk",
      "to": "risk",
      "on": "risk_id",
      "type": "foreign_key",
      "description": "La table \"event_risk\" est liée à la table \"risk\" par la colonne \"risk_id\", établissant une relation entre les événements et les risques associés."
    }
  ],
  "sample_queries": [
    {
      "natural_language": "Liste tous les événements de 2024",
      "sql": "SELECT event_id, type, classification, start_datetime, description FROM event WHERE EXTRACT(YEAR FROM start_datetime) = 2024 ORDER BY start_datetime DESC LIMIT 100;"
    },
    {
      "natural_language": "Compte les événements par type",
      "sql": "SELECT type, COUNT(*) as nombre_evenements FROM event GROUP BY type ORDER BY nombre_evenements DESC;"
    },
    {
      "natural_language": "Trouve les événements avec leurs déclarants",
      "sql": "SELECT e.event_id, e.description, e.start_datetime, p.name, p.family_name FROM event e JOIN person p ON e.declared_by_id = p.person_id ORDER BY e.start_datetime DESC LIMIT 50;"
    },
    {
      "natural_language": "Liste les mesures correctives avec leur coût",
      "sql": "SELECT name, description, cost, implementation_date FROM corrective_measure WHERE cost IS NOT NULL ORDER BY cost DESC LIMIT 100;"
    },
    {
      "natural_language": "Trouve les événements avec risque de gravité HIGH",
      "sql": "SELECT e.event_id, e.type, e.description, r.name as risque, r.gravity FROM event e JOIN event_risk er ON e.event_id = er.event_id JOIN risk r ON er.risk_id = r.risk_id WHERE r.gravity = 'HIGH' LIMIT 100;"
    },
    {
      "natural_language": "Liste les événements par unité organisationnelle",
      "sql": "SELECT ou.name as unite, COUNT(e.event_id) as nombre_evenements FROM organizational_unit ou JOIN event e ON ou.unit_id = e.organizational_unit_id GROUP BY ou.name ORDER BY nombre_evenements DESC;"
    }
  ]
}